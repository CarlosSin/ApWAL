
<div class="bg-teal-500 justify-items-center rounded-2xl p-4">
        <h2 class="card-title text-2xl text-white">Tabla de usuarios</h2>                
</div>

<div class="p-4">
    <div class="overflow-x-auto rounded-lg shadow-lg">
        <table class="min-w-full divide-y divide-teal-300 bg-white text-base text-gray-700">
<!--        <table class="border-collapse border border-teal-400 mt-8 bg-teal-600 text-white">-->
            <thead class="bg-teal-500 text-white">
                <tr>
                    <th class="px-6 py-3 text-center font-semibold uppercase tracking-wider">Número de control</th>
                    <th class="px-6 py-3 text-center font-semibold uppercase tracking-wider">Nombre</th>
                    <th class="px-6 py-3 text-center font-semibold uppercase tracking-wider">grado de estudios</th>
                    <th class="px-6 py-3 text-center font-semibold uppercase tracking-wider">Disponibilidad de usuario</th>
                    <th class="px-6 py-3 text-center font-semibold uppercase tracking-wider">Acciones</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-teal-100">
                <tr class="hover:bg-teal-50" *ngFor="let usuario of usuariosdb">
                    <td class="text-center px-6 py-4">{{ usuario.no_decontrol_usuario }}</td>
                    <td class="text-center px-6 py-4">{{ usuario.nombre_pila}} {{usuario.primer_apellido}} {{usuario.segunda_apellido}}</td>
                    <td class="text-center px-6 py-4">{{ usuario.grado_estudio}}</td>
                    <td class="text-center px-6 py-4">
                        @if(usuario.estado_usuario){
                                <i class="ki-solid ki-check-circle text-green-500 text-4xl"></i>
                        }@else {
                            <i class="ki-solid ki-cross-circle text-red-400 text-4xl"></i>
                        }
                    </td>
                    <td class="text-center px-6 py-4">
                        <button class="bg bg-sky-300 p-3 rounded-2xl" (click)="getID_modificacion(usuario.no_decontrol_usuario)">
                            <i class="ki-filled ki-user-edit text-2xl"></i>
                            Modificar usuario  
                        </button>
                        <br>
                        <button class="bg bg-lime-300 p-3 rounded-2xl mt-3" (click)="getID_nuevorol(usuario.no_decontrol_usuario)">
                            <i class="ki-filled ki-security-user text-2xl"></i>
                            Nuevo rol  
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- Renderizado condicional del formulario de modificación -->
<!-- El formulario se mostrará solo si showModificationForm es true y selectedUserToModify tiene datos -->
<app-modify-users
  *ngIf="showModificationForm && selectedUserToModify"
  [user]="selectedUserToModify"
  (formClosed)="closeModificationForm()"
  (userSaved)="handleUserSaved($event)">
</app-modify-users>